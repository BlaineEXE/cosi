---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    api-approved.kubernetes.io: unapproved, experimental v1alpha2 changes
    controller-gen.kubebuilder.io/version: v0.19.0
  name: bucketaccessclasses.objectstorage.k8s.io
spec:
  group: objectstorage.k8s.io
  names:
    kind: BucketAccessClass
    listKind: BucketAccessClassList
    plural: bucketaccessclasses
    singular: bucketaccessclass
  scope: Cluster
  versions:
  - name: v1alpha2
    schema:
      openAPIV3Schema:
        description: BucketAccessClass is the Schema for the bucketaccessclasses API
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: spec defines the desired state of BucketAccessClass
            properties:
              authenticationType:
                allOf:
                - enum:
                  - ""
                  - Key
                  - ServiceAccount
                - enum:
                  - Key
                  - ServiceAccount
                description: |-
                  authenticationType specifies which authentication mechanism is used bucket access.
                  Possible values:
                   - Key: The driver should generate a protocol-appropriate access key that clients can use to
                     authenticate to the backend object store.
                   - ServiceAccount: The driver should configure the system such that Pods using the given
                     ServiceAccount authenticate to the backend object store automatically.
                type: string
              driverName:
                description: driverName is the name of the driver that fulfills requests
                  for this BucketAccessClass.
                minLength: 1
                type: string
              featureOptions:
                description: featureOptions can be used to adjust various COSI access
                  provisioning behaviors.
                properties:
                  disallowMultiBucketAccess:
                    description: |-
                      disallowMultiBucketAccess disables the ability for a BucketAccess to reference multiple
                      BucketClaims when set.
                    type: boolean
                  disallowedBucketAccessModes:
                    description: |-
                      disallowedBucketAccessModes is a list of disallowed Read/Write access modes. A BucketAccess
                      using this class will not be allowed to request access to a BucketClaim with any access mode
                      listed here.
                    items:
                      description: BucketAccessMode describes the Read/Write mode
                        an access should have for a bucket.
                      enum:
                      - ReadWrite
                      - ReadOnly
                      - WriteOnly
                      type: string
                    type: array
                    x-kubernetes-list-type: set
                type: object
              parameters:
                additionalProperties:
                  type: string
                description: |-
                  parameters is an opaque map of driver-specific configuration items passed to the driver that
                  fulfills requests for this BucketAccessClass.
                type: object
            required:
            - authenticationType
            - driverName
            type: object
            x-kubernetes-validations:
            - message: BucketAccessClass spec is immutable
              rule: self == oldSelf
        required:
        - spec
        type: object
    served: true
    storage: true
    subresources:
      status: {}
